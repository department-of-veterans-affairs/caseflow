<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <title>Tasks - Caseflow Docs</title>
    <link
      rel="shortcut icon"
      href="/caseflow/favicon.ico"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="/caseflow/assets/css/just-the-docs-default.css"
    />
    <script src="/caseflow/assets/js/vendor/lunr.min.js"></script>
    <script src="/caseflow/assets/js/just-the-docs.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Begin Jekyll SEO tag v2.8.0 -->
    <title>Tasks | Caseflow Docs</title>
    <meta name="generator" content="Jekyll v3.9.2" />
    <meta property="og:title" content="Tasks" />
    <meta property="og:locale" content="en_US" />
    <meta name="description" content="Documentation for Caseflow" />
    <meta property="og:description" content="Documentation for Caseflow" />
    <link rel="canonical" href="/caseflow/caseflow-queues/tasks.html" />
    <meta property="og:url" content="/caseflow/caseflow-queues/tasks.html" />
    <meta property="og:site_name" content="Caseflow Docs" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="Tasks" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "description": "Documentation for Caseflow",
        "headline": "Tasks",
        "url": "/caseflow/caseflow-queues/tasks.html"
      }
    </script>
    <!-- End Jekyll SEO tag -->
  </head>
  <body>
    <a class="skip-to-main" href="#main-content">Skip to main content</a>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
      <symbol id="svg-link" viewbox="0 0 24 24">
        <title>Link</title>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewbox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-link"
        >
          <path
            d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
          ></path>
          <path
            d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
          ></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewbox="0 0 24 24">
        <title>Search</title>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewbox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-search"
        >
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewbox="0 0 24 24">
        <title>Menu</title>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewbox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-menu"
        >
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewbox="0 0 24 24">
        <title>Expand</title>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewbox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-chevron-right"
        >
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewbox="0 0 24 24">
        <title>Document</title>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewbox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-file"
        >
          <path
            d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"
          ></path>
          <polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
      <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
      <symbol
        id="svg-external-link"
        width="24"
        height="24"
        viewbox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="feather feather-external-link"
      >
        <title id="svg-external-link-title">(external link)</title>
        <path
          d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
        ></path>
        <polyline points="15 3 21 3 21 9"></polyline>
        <line x1="10" y1="14" x2="21" y2="3"></line>
      </symbol>
    </svg>
    <div class="side-bar">
      <div class="site-header">
        <a href="/caseflow/" class="site-title lh-tight"> Caseflow Docs </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewbox="0 0 24 24" class="icon">
            <use xlink:href="#svg-menu"></use>
          </svg>
        </a>
      </div>
      <nav aria-label="Main" id="site-nav" class="site-nav">
        <ul class="nav-list">
          <li class="nav-list-item">
            <a href="/caseflow/README.html" class="nav-list-link">README</a>
          </li>
          <li class="nav-list-item">
            <a href="/caseflow/workflows/" class="nav-list-link">Workflows</a>
          </li>
          <li class="nav-list-item">
            <a href="/caseflow/schema/db_schema.html" class="nav-list-link"
              >DB Schema</a
            >
          </li>
          <li class="nav-list-item active">
            <a
              href="#"
              class="nav-list-expander"
              aria-label="toggle links in Caseflow Queue category"
            >
              <svg viewbox="0 0 24 24">
                <use xlink:href="#svg-arrow-right"></use>
              </svg> </a
            ><a href="/caseflow/caseflow-queues/" class="nav-list-link"
              >Caseflow Queue</a
            >
            <ul class="nav-list">
              <li class="nav-list-item">
                <a
                  href="/caseflow/caseflow-queues/automatic_case_distribution.html"
                  class="nav-list-link"
                  >Automatic Case Distribution</a
                >
              </li>
              <li class="nav-list-item active">
                <a
                  href="/caseflow/caseflow-queues/tasks.html"
                  class="nav-list-link active"
                  >Tasks</a
                >
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <footer class="site-footer">
        This site uses
        <a href="https://github.com/just-the-docs/just-the-docs"
          >Just the Docs</a
        >, a documentation theme for Jekyll.
      </footer>
    </div>
    <div class="main" id="top">
      <div id="main-header" class="main-header">
        <div class="search">
          <div class="search-input-wrap">
            <input
              type="text"
              id="search-input"
              class="search-input"
              tabindex="0"
              placeholder="Search Caseflow Docs"
              aria-label="Search Caseflow Docs"
              autocomplete="off"
            />
            <label for="search-input" class="search-label"
              ><svg viewbox="0 0 24 24" class="search-icon">
                <use xlink:href="#svg-search"></use></svg
            ></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            <li class="aux-nav-list-item">
              <a
                href="//github.com/department-of-veterans-affairs/caseflow"
                class="site-button"
              >
                Caseflow on GitHub
              </a>
            </li>
          </ul>
        </nav>
      </div>
      <div id="main-content-wrap" class="main-content-wrap">
        <nav aria-label="Breadcrumb" class="breadcrumb-nav">
          <ol class="breadcrumb-nav-list">
            <li class="breadcrumb-nav-list-item">
              <a href="/caseflow/caseflow-queues/">Caseflow Queue</a>
            </li>
            <li class="breadcrumb-nav-list-item"><span>Tasks</span></li>
          </ol>
        </nav>
        <div id="main-content" class="main-content" role="main">
          <details open="">
            <summary><p>Table of contents</p></summary>
            <ol id="markdown-toc">
              <li>
                <a href="#what-are-tasks" id="markdown-toc-what-are-tasks"
                  >What are tasks?</a
                >
                <ol>
                  <li>
                    <a href="#task-status" id="markdown-toc-task-status"
                      >Task status</a
                    >
                  </li>
                  <li>
                    <a
                      href="#cancellation-reason"
                      id="markdown-toc-cancellation-reason"
                      >Cancellation reason</a
                    >
                  </li>
                  <li>
                    <a
                      href="#how-do-tasks-map-to-the-appeals-process"
                      id="markdown-toc-how-do-tasks-map-to-the-appeals-process"
                      >How do tasks map to the appeals process?</a
                    >
                  </li>
                  <li>
                    <a href="#task-timestamps" id="markdown-toc-task-timestamps"
                      >Task timestamps</a
                    >
                  </li>
                </ol>
              </li>
              <li>
                <a
                  href="#what-are-task-actions"
                  id="markdown-toc-what-are-task-actions"
                  >What are task actions?</a
                >
              </li>
              <li>
                <a
                  href="#how-do-tasks-and-organizations-interact"
                  id="markdown-toc-how-do-tasks-and-organizations-interact"
                  >How do tasks and organizations interact?</a
                >
              </li>
              <li>
                <a
                  href="#how-do-i-recover-if-the-task-tree-is-in-a-bad-state"
                  id="markdown-toc-how-do-i-recover-if-the-task-tree-is-in-a-bad-state"
                  >How do I recover if the task tree is in a bad state?</a
                >
              </li>
              <li>
                <a
                  href="#what-are-timed-tasks"
                  id="markdown-toc-what-are-timed-tasks"
                  >What are Timed Tasks?</a
                >
              </li>
              <li>
                <a
                  href="#what-are-engineering-tasks"
                  id="markdown-toc-what-are-engineering-tasks"
                  >What are Engineering Tasks?</a
                >
              </li>
              <li>
                <a
                  href="#what-are-blocking-tasks"
                  id="markdown-toc-what-are-blocking-tasks"
                  >What are Blocking Tasks?</a
                >
                <ol>
                  <li>
                    <a
                      href="#what-blocking-means"
                      id="markdown-toc-what-blocking-means"
                      >What Blocking Means</a
                    >
                  </li>
                  <li>
                    <a href="#non-blocking" id="markdown-toc-non-blocking"
                      >Non blocking</a
                    >
                  </li>
                  <li>
                    <a href="#the-root-task" id="markdown-toc-the-root-task"
                      >The Root Task</a
                    >
                  </li>
                  <li>
                    <a href="#mail-tasks" id="markdown-toc-mail-tasks"
                      >Mail Tasks</a
                    >
                  </li>
                  <li>
                    <a href="#exceptions" id="markdown-toc-exceptions"
                      >Exceptions</a
                    >
                  </li>
                  <li>
                    <a
                      href="#docket-switch-tasks"
                      id="markdown-toc-docket-switch-tasks"
                      >Docket Switch Tasks</a
                    >
                    <ol>
                      <li>
                        <a href="#task-behavior" id="markdown-toc-task-behavior"
                          >Task Behavior</a
                        >
                        <ol>
                          <li>
                            <a
                              href="#docket-switch-granted-task-tree"
                              id="markdown-toc-docket-switch-granted-task-tree"
                              >Docket Switch Granted Task Tree</a
                            >
                          </li>
                          <li>
                            <a
                              href="#docket-switch-denied-task-tree"
                              id="markdown-toc-docket-switch-denied-task-tree"
                              >Docket Switch Denied Task Tree</a
                            >
                          </li>
                        </ol>
                      </li>
                      <li>
                        <a href="#task-creation" id="markdown-toc-task-creation"
                          >Task Creation</a
                        >
                      </li>
                      <li>
                        <a
                          href="#tasks-ineligible-to-switch-dockets"
                          id="markdown-toc-tasks-ineligible-to-switch-dockets"
                          >Tasks ineligible to switch dockets</a
                        >
                      </li>
                    </ol>
                  </li>
                  <li>
                    <a
                      href="#tasks-that-should-have-only-one-open-at-a-time"
                      id="markdown-toc-tasks-that-should-have-only-one-open-at-a-time"
                      >Tasks that should have only one open at a time</a
                    >
                  </li>
                </ol>
              </li>
            </ol>
          </details>
          <h2 id="what-are-tasks">
            <a
              href="#what-are-tasks"
              class="anchor-heading"
              aria-labelledby="what-are-tasks"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            What are tasks?
          </h2>
          <p>
            See all Caseflow tasks’ source code
            <a
              href="https://github.com/department-of-veterans-affairs/caseflow/tree/master/app/models/tasks"
              >here</a
            >.
          </p>
          <p>
            Tasks are how Caseflow records who has responsibility for taking
            action on an appeal. Tasks contain three essential pieces of
            information:
          </p>
          <ol>
            <li><strong>Appeal</strong>. Which appeal requires this action.</li>
            <li>
              <strong>Assignee</strong>. Who is supposed to take the action. The
              assignee can be a person, a team of people, or an abstract
              organization used as a placeholder for some automated action that
              will be taken on the appeal.
            </li>
            <li>
              <strong>Type</strong>. The type of task implies the action that is
              supposed to be taken.
            </li>
          </ol>
          <p>
            <img
              src="/caseflow/assets/images/currently-active-tasks.png"
              alt="image"
            />
          </p>
          <ul>
            <li>
              Each appeal is associated with a root task. All required tasks for
              the appeal will be children of this root task.
            </li>
            <li>
              Actions or task state change can cause new tasks to be associated
              with the root task or its descendant tasks.
              <ul>
                <li>Tasks determine what actions are available to a role.</li>
                <li>A task’s state is affected by actions taken by a user.</li>
              </ul>
            </li>
            <li>
              Many tasks are first assigned to an
              <code class="language-plaintext highlighter-rouge"
                >Organization</code
              >. When the <em>admin</em> for the organization (e.g., judge,
              coordinator) assigns a case to an individual user, a child task
              (or subtask) is created and assigned to a user within that
              organization. The task and child task have the same type but
              different
              <code class="language-plaintext highlighter-rouge"
                >assigned_to_type</code
              >.
              <ul>
                <li>
                  When the child task is created and assigned, the parent task’s
                  state is
                  <code class="language-plaintext highlighter-rouge"
                    >on_hold</code
                  >.
                </li>
                <li>
                  When the child task’s state is complete, a hook causes the
                  parent task’s state to be complete.
                </li>
                <li>
                  When the child task’s state is cancelled, a hook causes the
                  parent task’s state to be cancelled.
                </li>
                <li>
                  Task Types that do not follow the Parent Org - Child User
                  structure are all Judge Tasks, all Attorney Tasks, and the
                  root task.
                  <ul>
                    <li>
                      Judge &amp; Attorney have a similar parent/child
                      structure, but do not mimic the behavior.
                    </li>
                    <li>
                      This distinction is a historic artifact, rather than a
                      deliberate choice, as those Judge &amp; Attorney task
                      types predate Organizations.
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
          <h3 id="task-status">
            <a
              href="#task-status"
              class="anchor-heading"
              aria-labelledby="task-status"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Task status
          </h3>
          <ul>
            <li>
              Possible task status values (see
              <code class="language-plaintext highlighter-rouge"
                >task.rb: enum status</code
              >):
              <code class="language-plaintext highlighter-rouge">assigned</code
              >,
              <code class="language-plaintext highlighter-rouge"
                >in_progress</code
              >,
              <code class="language-plaintext highlighter-rouge">on_hold</code>,
              <code class="language-plaintext highlighter-rouge">completed</code
              >,
              <code class="language-plaintext highlighter-rouge">cancelled</code
              >.
            </li>
            <li>
              A task is
              <code class="language-plaintext highlighter-rouge">closed</code>
              if it is
              <code class="language-plaintext highlighter-rouge"
                >completed</code
              >
              or
              <code class="language-plaintext highlighter-rouge"
                >cancelled</code
              >
              (see
              <code class="language-plaintext highlighter-rouge"
                >Task.closed_statuses</code
              >).
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >task.open?</code
              >
              is implemented as
              <code class="language-plaintext highlighter-rouge"
                >!self.class.closed_statuses.include?(status)</code
              >.
            </li>
            <li>
              A task is
              <code class="language-plaintext highlighter-rouge">active</code>
              (<code class="language-plaintext highlighter-rouge"
                >task.active?</code
              >) if it is
              <code class="language-plaintext highlighter-rouge">assigned</code>
              or
              <code class="language-plaintext highlighter-rouge"
                >in_progress</code
              >
              (see
              <code class="language-plaintext highlighter-rouge"
                >Task.active_statuses</code
              >).
            </li>
            <li>
              Note that
              <code class="language-plaintext highlighter-rouge"
                >Task.open_statuses</code
              >
              is implemented as
              <code class="language-plaintext highlighter-rouge"
                >active_statuses.concat([Constants.TASK_STATUSES.on_hold])</code
              >, which corresponds with
              <code class="language-plaintext highlighter-rouge"
                >task.open?</code
              >
              as long as no other status values are added.
            </li>
            <li>
              When a status is “active” we expect properties of the task to
              change. When a task is not “active” we expect that properties of
              the task will not change.
            </li>
          </ul>
          <h3 id="cancellation-reason">
            <a
              href="#cancellation-reason"
              class="anchor-heading"
              aria-labelledby="cancellation-reason"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Cancellation reason
          </h3>
          <p>
            There are many reasons why a task might be
            <code class="language-plaintext highlighter-rouge">cancelled</code>.
            <code class="language-plaintext highlighter-rouge"
              >cancellation_reason</code
            >
            provides a means to identify a reason for a task’s most recent
            <code class="language-plaintext highlighter-rouge">cancelled</code>
            status. Usually a
            <code class="language-plaintext highlighter-rouge">cancelled</code>
            status is a final state for a task, so we wouldn’t expect it to
            change again. The
            <code class="language-plaintext highlighter-rouge"
              >cancellation_reason</code
            >
            can be cleared for a task if the task ever gets uncancelled, and a
            new reason can be added, should it be cancelled for a different
            reason. Supplemental information from users for
            <code class="language-plaintext highlighter-rouge"
              >cancellation_reason</code
            >
            can be stored in
            <code class="language-plaintext highlighter-rouge"
              >instructions</code
            >. Possible values for
            <code class="language-plaintext highlighter-rouge"
              >cancellation_reason</code
            >
            are detailed here (see also
            <code class="language-plaintext highlighter-rouge"
              >task.rb: enum cancellation_reason</code
            >):
          </p>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>
                    <code class="language-plaintext highlighter-rouge"
                      >cancellation_reason</code
                    >
                    value
                  </th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <code class="language-plaintext highlighter-rouge"
                      >poa_change</code
                    >
                  </td>
                  <td>
                    IHP tasks are cancelled when there is a change of POA for an
                    appeal. The IHP task for the original POA gets cancelled and
                    a new IHP task is opened for the new POA.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <h3 id="how-do-tasks-map-to-the-appeals-process">
            <a
              href="#how-do-tasks-map-to-the-appeals-process"
              class="anchor-heading"
              aria-labelledby="how-do-tasks-map-to-the-appeals-process"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            How do tasks map to the appeals process?
          </h3>
          <ul>
            <li>
              For further description, see
              <a
                href="https://docs.google.com/presentation/d/1Cc84GH7giWHTNxUe3zixH7O-QT77STlptYfud9X8P1Y"
                >this slide deck</a
              >.
            </li>
            <li>
              Also check out this generated
              <a
                href="https://github.com/department-of-veterans-affairs/appeals-team/blob/master/Project%20Folders/Tasks/tasktrees/README.md"
                >Task Tree documentation</a
              >
            </li>
          </ul>
          <h3 id="task-timestamps">
            <a
              href="#task-timestamps"
              class="anchor-heading"
              aria-labelledby="task-timestamps"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Task timestamps
          </h3>
          <p>
            Tasks all have 6 timestamps that record when certain events happen
          </p>
          <ol>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >created_at</code
              >: When the
              <code class="language-plaintext highlighter-rouge"
                >ActiveRecord</code
              >
              was created (done automatically by rails)
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >updated_at</code
              >: When any field of the
              <code class="language-plaintext highlighter-rouge"
                >ActiveRecord</code
              >
              was last updated (done automatically by rails)
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >assigned_at</code
              >: When the
              <code class="language-plaintext highlighter-rouge"
                >ActiveRecord</code
              >
              <a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L27"
                >is created</a
              >, this is set to the creation datetime or what
              <code class="language-plaintext highlighter-rouge"
                >assigned_at</code
              >
              attribute is
              <a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L626"
                >passed to the task</a
              >
              upon creation. It is also set when a task’s
              <code class="language-plaintext highlighter-rouge">status</code>
              is
              <a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L644"
                >updated</a
              >
              to “<a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L631"
                >assigned</a
              >”
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >started_at</code
              >: When a task’s
              <code class="language-plaintext highlighter-rouge">status</code>
              is
              <a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L644"
                >updated</a
              >
              to “<a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L632"
                >in_progress</a
              >”
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >placed_on_hold_at</code
              >: When a task’s
              <code class="language-plaintext highlighter-rouge">status</code>
              is
              <a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L644"
                >updated</a
              >
              to “<a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L633"
                >on_hold</a
              >”
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge">closed_at</code
              >: When a task’s
              <code class="language-plaintext highlighter-rouge">status</code>
              is
              <a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L644"
                >updated</a
              >
              to “<a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L634"
                >completed</a
              >” or “<a
                href="https://github.com/department-of-veterans-affairs/caseflow/blob/9b73d5ff8aa6a65be9a529b258bde91caa65de82/app/models/task.rb#L635"
                >cancelled</a
              >”
            </li>
          </ol>
          <h2 id="what-are-task-actions">
            <a
              href="#what-are-task-actions"
              class="anchor-heading"
              aria-labelledby="what-are-task-actions"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            What are task actions?
          </h2>
          <p>
            Task actions are the options that are presented in a dropdown menu
            on the case details page of an individual appeal. Each task has a
            set of actions available to be taken on it given the state of the
            appeal, type of task, and relationship of the current user to the
            appeal. Task actions do only one thing: redirect the current user to
            a different URL when clicked. The resulting page may be a modal or
            workflow where additional information is gathered to be sent in a
            subsequent request to the server.
          </p>
          <p>
            <a
              href="https://airtable.com/shr17sBDY41hIlDcW/tbldCBfTWF7PfRggp/viwajGkhg8fJNqTmf?blocks=hide"
              >Task actions enumerated</a
            >
          </p>
          <h2 id="how-do-tasks-and-organizations-interact">
            <a
              href="#how-do-tasks-and-organizations-interact"
              class="anchor-heading"
              aria-labelledby="how-do-tasks-and-organizations-interact"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            How do tasks and organizations interact?
          </h2>
          <p>
            For a more complete look into how tasks and organizations interact,
            please view this
            <a
              href="https://zoom.us/recording/play/DheNbQYEm5Bwy3hE5sBdQ0a1Xcl44Gs573fp72-UoHNnOvAEGLQDFKcGUZpwkKN_?continueMode=true&startTime=1556124159000&autoplay=true"
              >video recording of a presentation on the subject</a
            >.
          </p>
          <h2 id="how-do-i-recover-if-the-task-tree-is-in-a-bad-state">
            <a
              href="#how-do-i-recover-if-the-task-tree-is-in-a-bad-state"
              class="anchor-heading"
              aria-labelledby="how-do-i-recover-if-the-task-tree-is-in-a-bad-state"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            How do I recover if the task tree is in a bad state?
          </h2>
          <p>
            When the task tree cannot be restored to the correct state by
            actions available to Caseflow users (like cancelling a task), the
            Caseflow application development team can manually correct the state
            of the task tree. For specific examples of these occasions please
            visit
            <a
              href="https://github.com/department-of-veterans-affairs/caseflow/wiki/Fixing-task-trees"
              >the dedicated wiki page</a
            >.
          </p>
          <h2 id="what-are-timed-tasks">
            <a
              href="#what-are-timed-tasks"
              class="anchor-heading"
              aria-labelledby="what-are-timed-tasks"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            What are Timed Tasks?
          </h2>
          <p>
            Tasks indicate that an action needs to be performed by somebody or
            some automated process. In addition to tasks that indicate some
            action needs to be taken by a person or some other active system,
            sometimes an appeal just needs to wait for some time to pass, so we
            created the
            <a
              href="https://github.com/department-of-veterans-affairs/caseflow/wiki/Timed-Tasks"
              >timed task mechanism</a
            >
            as a way to satisfy that need.
          </p>
          <h2 id="what-are-engineering-tasks">
            <a
              href="#what-are-engineering-tasks"
              class="anchor-heading"
              aria-labelledby="what-are-engineering-tasks"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            What are Engineering Tasks?
          </h2>
          <p>
            An
            <code class="language-plaintext highlighter-rouge"
              >EngineeringTask</code
            >
            is used to keep Caseflow users aware of engineering work (including
            long-term Bat Team work) on an appeal, reduce false positives when
            checking for stuck appeals, and enable more accurate time-keeping
            when reporting on Caseflow users’ time spent on an appeal. For
            motivating factors, see the
            <code class="language-plaintext highlighter-rouge"
              >EngineeringTask</code
            >
            Tech Spec #16445. For usage examples, see
            <a
              href="https://github.com/department-of-veterans-affairs/caseflow/blob/master/spec/models/tasks/engineering_task_spec.rb"
              >the associated RSpec</a
            >.
          </p>
          <p>
            The
            <code class="language-plaintext highlighter-rouge"
              >EngineeringTask</code
            >
            is assigned to a specific engineer when possible; otherwise it is
            assigned to the Caseflow user (<code
              class="language-plaintext highlighter-rouge"
              >User.system_user</code
            >). One use case is to create a child
            <code class="language-plaintext highlighter-rouge"
              >EngineeringTask</code
            >
            to block a parent task (e.g.,
            <code class="language-plaintext highlighter-rouge"
              >BvaDispatchTask</code
            >) when the complete workflow is not yet implemented (e.g.,
            Unrecognized Appellant work).
          </p>
          <h2 id="what-are-blocking-tasks">
            <a
              href="#what-are-blocking-tasks"
              class="anchor-heading"
              aria-labelledby="what-are-blocking-tasks"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            What are Blocking Tasks?
          </h2>
          <h3 id="what-blocking-means">
            <a
              href="#what-blocking-means"
              class="anchor-heading"
              aria-labelledby="what-blocking-means"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            What Blocking Means
          </h3>
          <p>
            There are three general ways we use the concept of “blocking” in
            Caseflow, one general, and two aligned with how a case processes
            runs.
          </p>
          <p>
            <strong>General Use</strong> Task A is blocking task B if no work
            can be done on Task B until Task A is completed.<br />
            Examples here would include Attorney Drafting Tasks blocking Judge
            Decision Review, Timed Hold Tasks block any task that requests it,
            etc.
          </p>
          <p>
            This is implemented in two ways, via a child-task relationship of
            task B to task A in the task tree (eg Attorney Decision Drafting is
            the child of a Judge Decision Review), or by the explicit creation
            of Task B upon completion of Task A (eg Judge Assign Task is created
            when the Distribution Task completes).
          </p>
          <p>
            <strong>Blocks Distribution</strong> Tasks which block distribution
            are a specific case of general blocking, implemented via the
            child-task relationship. Tasks which block distribution are created
            as children of the Distribution Task. A case is ready for
            distribution only when all children of the Distribution Task are
            complete.
          </p>
          <p>
            In Evidence Window dockets, the Evidence Submission window blocks
            distribution. In hearing dockets,
            <a
              href="https://github.com/department-of-veterans-affairs/appeals-team/blob/master/Project%20Folders/Tasks/tasktrees/descr/tasks-overview.md#hearing-phase"
              >the hearing task &amp; all its children</a
            >
            block distribution. In Direct Review, there are no tasks blocking
            distribution by default.
          </p>
          <p>
            All dockets may have their distribution blocked if they receive a
            Blocking Mail Task.
          </p>
          <p>
            <strong>Blocks Dispatch</strong> As of June 2020, there is
            <em>no special handling for blocking dispatch</em>. Only the general
            blocking as defined above applies.
          </p>
          <h3 id="non-blocking">
            <a
              href="#non-blocking"
              class="anchor-heading"
              aria-labelledby="non-blocking"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Non blocking
          </h3>
          <p>
            In Caseflow, nonblocking tasks can be worked in parallel.<br />
            This is implemented by having the Tasks be on different branches.
            All leaf tasks on a task tree can be worked in parallel.<br />
            Examples include an attorney creating two colocated tasks, or if a
            non-blocking Mail task comes in.
          </p>
          <h3 id="the-root-task">
            <a
              href="#the-root-task"
              class="anchor-heading"
              aria-labelledby="the-root-task"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            The Root Task
          </h3>
          <p>
            Every Appeal has one root task. It is used as a container and
            tracker for the entire case’s task tree. The root task is never
            considered blocked.
          </p>
          <p>
            Tasks created off the Root Task can run in parallel to each other.
            When any child task of the root task is completed, that task is
            responsible for creating a new sibling on the root task to track the
            next stage of the case process. For example, when a Distribution
            task is completed, the Judge Assign task is created. When the Judge
            Assign task is completed, the Judge Decision Review Task with a
            child Attorney Decision Drafting tasks are created.
          </p>
          <h3 id="mail-tasks">
            <a
              href="#mail-tasks"
              class="anchor-heading"
              aria-labelledby="mail-tasks"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Mail Tasks
          </h3>
          <p>
            Most tasks of the same type tend to behave the same. Mail Tasks are
            the exception to this. Some Mail tasks block Distribution, if the
            case has not yet been sent to a judge for drafting the decision.
          </p>
          <p>
            These mail tasks will block case distribution if they come in before
            the distribution, pulled June 2020.
          </p>
          <div class="language-ruby highlighter-rouge">
            <div class="highlight">
              <pre
                class="highlight"
              ><code><span class="o">&gt;</span> <span class="no">MailTask</span><span class="p">.</span><span class="nf">blocking_subclasses</span>
<span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"CongressionalInterestMailTask"</span><span class="p">,</span>
 <span class="s2">"ExtensionRequestMailTask"</span><span class="p">,</span>
 <span class="s2">"FoiaRequestMailTask"</span><span class="p">,</span>
 <span class="s2">"HearingRelatedMailTask"</span><span class="p">,</span>
 <span class="s2">"PowerOfAttorneyRelatedMailTask"</span><span class="p">,</span>
 <span class="s2">"PrivacyActRequestMailTask"</span><span class="p">,</span>
 <span class="s2">"PrivacyComplaintMailTask"</span><span class="p">]</span>
</code></pre>
            </div>
          </div>
          <p>Other Mail Tasks are worked in parallel.</p>
          <p>
            Any mail tasks that come in after a case has been distributed are
            created off the root task, and worked in parallel.
          </p>
          <p>
            See the
            <a
              href="https://github.com/department-of-veterans-affairs/appeals-team/blob/master/Project%20Folders/Tasks/tasktrees/descr/tasks-overview.md#mailtasks"
              >Mail Tasks TaskTree Documentation</a
            >
          </p>
          <h3 id="exceptions">
            <a
              href="#exceptions"
              class="anchor-heading"
              aria-labelledby="exceptions"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Exceptions
          </h3>
          <p>
            <code class="language-plaintext highlighter-rouge"
              >DecisionReviewTask</code
            >
            and
            <code class="language-plaintext highlighter-rouge"
              >Dispatch::Task</code
            >s may follow different paradigms.
          </p>
          <p>
            Hearing Tasks follow general blocking, but may have different flow
            within the Hearing Task Tree Branch.
          </p>
          <p>
            In Queue, User tasks do not block their matching parent Organization
            Task. Rather, the pair tend to complete at the same time.
            Organizations tasks are used by Organization admin users to track
            the appeal as it is under control of their org. They also give the
            admin users access to reassign or cancel that user task, as
            appropriate. User tasks are assigned to individual users within the
            org to track to actual work of the case.
          </p>
          <h3 id="docket-switch-tasks">
            <a
              href="#docket-switch-tasks"
              class="anchor-heading"
              aria-labelledby="docket-switch-tasks"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Docket Switch Tasks
          </h3>
          <h4 id="task-behavior">
            <a
              href="#task-behavior"
              class="anchor-heading"
              aria-labelledby="task-behavior"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Task Behavior
          </h4>
          <p>
            The docket switch flow begins with the creation of a
            <code class="language-plaintext highlighter-rouge"
              >DocketSwitchMailTask</code
            >
            by a user at the Clerk of the Board. This task gets created as a
            child of the
            <code class="language-plaintext highlighter-rouge"
              >DistributionTask</code
            >
            to block distribution to a VLJ while the docket switch request is
            under review. The task gets assigned to that same user whereupon
            they will send the request to switch dockets to a VLJ. Sending the
            request to a judge closes the
            <code class="language-plaintext highlighter-rouge"
              >DocketSwitchMailTask</code
            >
            with a status of
            <code class="language-plaintext highlighter-rouge">completed</code>,
            closes the parent
            <code class="language-plaintext highlighter-rouge"
              >DocketSwitchMailTask</code
            >
            assigned to the Organization as well, and creates a
            <code class="language-plaintext highlighter-rouge"
              >DocketSwitchRulingTask</code
            >. Once the VLJ decides to either grant or deny the request to
            switch dockets, that in turn will create either a
            <code class="language-plaintext highlighter-rouge"
              >DocketSwitchGrantedTask</code
            >
            or
            <code class="language-plaintext highlighter-rouge"
              >DocketSwitchDeniedTask</code
            >
            and close the
            <code class="language-plaintext highlighter-rouge"
              >DocketSwitchRulingTask</code
            >
            with a status of
            <code class="language-plaintext highlighter-rouge">completed</code>.
            These are the final tasks within the docket switch task flow.
          </p>
          <h5 id="docket-switch-granted-task-tree">
            <a
              href="#docket-switch-granted-task-tree"
              class="anchor-heading"
              aria-labelledby="docket-switch-granted-task-tree"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Docket Switch Granted Task Tree
          </h5>
          <div class="language-plaintext highlighter-rouge">
            <div class="highlight">
              <pre
                class="highlight"
              ><code>Appeal 1639 (D 210726-1639 Original) ────── │ ID   │ STATUS    │ ASGN_BY     │ ASGN_TO         │ UPDATED_AT              │
└── RootTask                                │ 6876 │ cancelled │             │ Bva             │ 2021-07-27 17:39:06 UTC │
    └── DistributionTask                    │ 6877 │ cancelled │             │ Bva             │ 2021-07-27 17:43:28 UTC │
        ├── DocketSwitchMailTask            │ 6878 │ completed │             │ ClerkOfTheBoard │ 2021-07-27 17:40:40 UTC │
        │   └── DocketSwitchMailTask        │ 6879 │ completed │ COB_USER    │ COB_USER        │ 2021-07-27 17:40:40 UTC │
        └── DocketSwitchRulingTask          │ 6880 │ completed │ COB_USER    │ BVAAABSHIRE     │ 2021-07-27 17:43:28 UTC │
            └── DocketSwitchGrantedTask     │ 6881 │ completed │ BVAAABSHIRE │ ClerkOfTheBoard │ 2021-07-27 17:43:28 UTC │
                └── DocketSwitchGrantedTask │ 6882 │ completed │ BVAAABSHIRE │ COB_USER        │ 2021-07-27 17:43:29 UTC │
                                            └────────────────────────────────────────────────────────────────────────────┘
</code></pre>
            </div>
          </div>
          <h5 id="docket-switch-denied-task-tree">
            <a
              href="#docket-switch-denied-task-tree"
              class="anchor-heading"
              aria-labelledby="docket-switch-denied-task-tree"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Docket Switch Denied Task Tree
          </h5>
          <div class="language-plaintext highlighter-rouge">
            <div class="highlight">
              <pre
                class="highlight"
              ><code>Appeal 1640 (E 210726-1639 Original) ───── │ ID   │ STATUS    │ ASGN_BY     │ ASGN_TO         │ UPDATED_AT              │
└── RootTask                               │ 6883 │ on_hold   │             │ Bva             │ 2021-07-27 17:43:28 UTC │
    ├── DistributionTask                   │ 6884 │ on_hold   │             │ Bva             │ 2021-07-27 17:43:28 UTC │
    │   ├── EvidenceSubmissionWindowTask   │ 6885 │ assigned  │             │ MailTeam        │ 2021-07-27 17:43:28 UTC │
    │   ├── DocketSwitchMailTask           │ 6887 │ completed │             │ ClerkOfTheBoard │ 2021-07-27 17:45:37 UTC │
    │   │   └── DocketSwitchMailTask       │ 6888 │ completed │ COB_USER    │ COB_USER        │ 2021-07-27 17:45:37 UTC │
    │   └── DocketSwitchRulingTask         │ 6889 │ completed │ COB_USER    │ BVAAABSHIRE     │ 2021-07-27 17:49:06 UTC │
    │       └── DocketSwitchDeniedTask     │ 6890 │ completed │ BVAAABSHIRE │ ClerkOfTheBoard │ 2021-07-27 17:49:05 UTC │
    │           └── DocketSwitchDeniedTask │ 6891 │ completed │ BVAAABSHIRE │ COB_USER        │ 2021-07-27 17:49:06 UTC │
</code></pre>
            </div>
          </div>
          <h4 id="task-creation">
            <a
              href="#task-creation"
              class="anchor-heading"
              aria-labelledby="task-creation"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Task Creation
          </h4>
          <p>
            Upon switching an appeal to a different docket type, and in turn
            creating a new appeal stream, the task creation process largely
            mimics when intaking a new appeal. All new appeals will have a
            <code class="language-plaintext highlighter-rouge">RootTask</code>
            and
            <code class="language-plaintext highlighter-rouge"
              >DistributionTask</code
            >
            with a status of
            <code class="language-plaintext highlighter-rouge">on_hold</code>.
            The new appeal will also have a
            <code class="language-plaintext highlighter-rouge"
              >DocketSwitchGrantedTask</code
            >
            with a status of
            <code class="language-plaintext highlighter-rouge">complete</code>
            which is shown in the Case Timeline and requires no action.
          </p>
          <p>
            When switching to a
            <code class="language-plaintext highlighter-rouge"
              >DirectReview</code
            >
            docket, an
            <code class="language-plaintext highlighter-rouge"
              >InformalHearingPresentation</code
            >
            task will be created as a child of the
            <code class="language-plaintext highlighter-rouge"
              >DistributionTask</code
            >
            if the appellant has a VSO representing them and that VSO is
            configured to perform IHPs.
          </p>
          <p>
            When switching to an
            <code class="language-plaintext highlighter-rouge"
              >EvidenceSubmission</code
            >
            docket, an
            <code class="language-plaintext highlighter-rouge"
              >EvidenceSubmissionWindowTask</code
            >
            will be automatically created as a child of the
            <code class="language-plaintext highlighter-rouge"
              >DistributionTask</code
            >
            and with a status of
            <code class="language-plaintext highlighter-rouge">assigned</code>.
            This task signifies the 90-day window during which an appellant may
            submit additional evidence before the appeal gets distributed to a
            VLJ. An
            <code class="language-plaintext highlighter-rouge"
              >InformalHearingPresentation</code
            >
            task will also be created as a child of the
            <code class="language-plaintext highlighter-rouge"
              >DistributionTask</code
            >
            after the 90-day evidence submission window is complete if the
            appellant has a VSO representing them and that VSO is configured to
            perform IHPs.
          </p>
          <p>
            When switching to a
            <code class="language-plaintext highlighter-rouge">Hearing</code>
            docket, a
            <code class="language-plaintext highlighter-rouge">Hearing</code>
            task will be automatically created as a child of the
            <code class="language-plaintext highlighter-rouge"
              >DistributionTask</code
            >
            and a
            <code class="language-plaintext highlighter-rouge"
              >ScheduleHearingTask</code
            >
            will be automatically created as a child of the
            <code class="language-plaintext highlighter-rouge">Hearing</code>
            task. Once these tasks are completed by scheduling and holding a
            hearing, the appeal will be ready for distribution to a VLJ.
          </p>
          <h4 id="tasks-ineligible-to-switch-dockets">
            <a
              href="#tasks-ineligible-to-switch-dockets"
              class="anchor-heading"
              aria-labelledby="tasks-ineligible-to-switch-dockets"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Tasks ineligible to switch dockets
          </h4>
          <p>
            Tasks listed below are ineligible to switch dockets. All other tasks
            will default to switching dockets but the user granting the request
            can remove these tasks from switching in the UI
          </p>
          <ul>
            <li>Open tasks with children</li>
            <li>
              <code class="language-plaintext highlighter-rouge">RootTask</code>
              - Newly created for new appeal stream
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >DistributionTask</code
              >
              - Newly created for new appeal stream
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >EvidenceSubmissionWindowTask</code
              >
              &amp; children
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >HearingTask</code
              >
              &amp; children
            </li>
            <li>
              <code class="language-plaintext highlighter-rouge"
                >DocketSwitch</code
              >
              tasks - New
              <code class="language-plaintext highlighter-rouge"
                >DocketSwitchGrantedTask</code
              >
              created for new appeal stream
            </li>
          </ul>
          <h3 id="tasks-that-should-have-only-one-open-at-a-time">
            <a
              href="#tasks-that-should-have-only-one-open-at-a-time"
              class="anchor-heading"
              aria-labelledby="tasks-that-should-have-only-one-open-at-a-time"
              ><svg viewbox="0 0 16 16" aria-hidden="true">
                <use xlink:href="#svg-link"></use></svg
            ></a>
            Tasks that should have only one open at a time
          </h3>
          <p>
            There are certain task types that an appeal should have only one
            open instance of at a time. Team Echo is currently working with the
            board to confirm which task types have these restrictions. For an
            evolving list, please see this github
            <a
              href="https://github.com/department-of-veterans-affairs/caseflow/issues/15220#issuecomment-896194415"
              >comment</a
            >.
          </p>
          <hr />
          <footer>
            <a href="#top" id="back-to-top">Back to top</a>
            <div class="d-flex mt-2">
              <p class="text-small text-grey-dk-000 mb-0">
                <a
                  href="https://github.com/department-of-veterans-affairs/caseflow/tree/main-gh-pages/caseflow-queues/tasks.md"
                  id="edit-this-page"
                  >Edit this page</a
                >
              </p>
            </div>
          </footer>
        </div>
      </div>
      <div class="search-overlay"></div>
    </div>
  </body>
</html>

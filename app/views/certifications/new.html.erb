<% content_for :page_title do %>Complete Electronic Form 8<% end %>

<script>
  $(document).ready(function() {
    window.Form8.init();
  });
</script>

<%= form_for @form8, url: { controller: "certifications", action: "create" },
                    html: { id: "form8", class: "cf-form cf-app-segment" },
                 builder: CaseflowFormBuilder do |f| %>

  <div class="usa-alert usa-alert-success cf-app-segment" role="alert">
    <div class="usa-alert-body">
      <h3 class="usa-alert-heading">All documents detected!</h3>
      <p class="usa-alert-text">The Form 9, <abbr>NOD</abbr>, <abbr>SOC</abbr> and <abbr>SSOC</abbr>s (if applicable) were found in the eFolder.</p>
    </div>
  </div>

  <div class="cf-app-segment cf-app-segment--alt">
    <header>
      <h2>Complete Electronic Form 8</h2>
      <p>Caseflow pre-fills a Form 8 for each case using data from VACOLS and VBMS.
      To finish the form, answer the remaining questions. When you are done, click <strong>continue</strong>.</p>
      <p class="cf-required-msg">Fields marked with a <strong class="cf-error">*</strong> are required.</p>
    </header>

    <%= f.hidden_field :vacols_id %>

    <%= f.text_field :appellant,
          question_number: "1A", label: "Name of Appellant (If other than veteran)" %>

    <%= f.text_field :appellant_relationship,
          question_number: "1B", label: "Relationship to Veteran" %>

    <%= f.text_field :file_number,
          question_number: "2", label: "File No.", readonly: true %>

    <%= f.text_field :veteran_name,
          question_number: "3", label: "Full Veteran Name", required: true %>

    <%= f.text_field :insurance_loan_number,
          question_number: "4", label: "Insurance file number or loan number (if pertinent)" %>

    <div class="cf-form-cond-req">
      <%= f.text_area :service_connection_for,
            question_number: "5A", label: "Service connection for:" %>

      <%= f.date_field :service_connection_nod_date,
            question_number: "5B", label: "Date of notification of action appealed", required: true %>
    </div>

    <div class="cf-form-cond-req">
      <%= f.text_area :increased_rating_for,
            question_number: "6A", label: "Increased rating for:" %>

      <%= f.date_field :increased_rating_nod_date,
            question_number: "6B", label: "Date of notification of action appealed", required: true %>
    </div>

    <div class="cf-form-cond-req">
      <%= f.text_area :other_for,
            question_number: "7A", label: "Other:" %>

      <%= f.date_field :other_nod_date,
            question_number: "7B", label: "Date of notification of action appealed", required: true %>
    </div>

    <%= f.text_field :representative_name,
          question_number: "8A", part: "1", label: "Representative Name", required: true %>

    <%= f.radio_buttons_field :representative_type,
          values: ["Attorney", "Agent", "Organization", "Other"], required: true,
          question_number: "8A", part: "2", label: "Representative Type" %>

    <%= f.text_field :representative_type_specify_other,
          question_number: "8A", part: "3", label: "Specify other", required: true, secondary: true %>

    <%= f.radio_buttons_field :power_of_attorney,
          values: ["POA", "Certification that valid POA is in another VA file"], inline: true,
          question_number: "8B", part: "1", label: "What is the authority for recognizing such representative in this appeal?" %>

    <%= f.text_field :power_of_attorney_file,
          question_number: "8B", part: "2", label: "Specify file if applicable", required: true, secondary: true %>

    <%= f.yes_no_field :agent_accredited,
          question_number: "8C", label: "Is Agent on accredited list?", required: true %>

    <%= f.yes_no_field :form_646_of_record,
          question_number: "9A", label: "Is VA Form 646, or equivalent, of record?", required: true %>

    <%= f.text_field :form_646_not_of_record_explaination,
          question_number: "9B", label: "Why is the Form 646 not of record?", required: true %>

    <%= f.yes_no_field :hearing_requested,
          question_number: "10A", label: "Was hearing requested?", required: true %>

    <%= f.yes_no_field :hearing_transcript_on_file,
          question_number: "10B", label: "If the hearing was held, is transcript on file?" %>

    <%= f.text_field :hearing_requested_explaination,
          question_number: "10C", label: "If requested, but not held, explain" %>

    <%= f.yes_no_field :contested_claims_procedures_applicable,
          question_number: "11A", label: "Are contested claims procedures applicable in this case?", required: true %>

    <%= f.yes_no_field :contested_claims_requirements_followed,
          question_number: "11B", label: "Have the requirements of 38 U.S.C. 7105A been followed for all contested claims?", required: true %>
  </div>

  <div class="cf-app-segment">
    <a href="#" class="cf-action-openmodal cf-btn-link">Cancel certification</a>
    <button type="submit" class="cf-push-right">Preview Completed Form 8</button>
  </div>
<% end %>
